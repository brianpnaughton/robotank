{% extends 'base.html' %}
{% block content %}		
	<div id="container"></div>
	<div id="info">
		<span id="result"></span>
	</div> 
	<script src="static/user/js/virtualjoystick.js"></script>
	<script>
		console.log("touchscreen is", VirtualJoystick.touchScreenAvailable() ? "available" : "not available");

		var joystick	= new VirtualJoystick({
			container	: document.getElementById('container'),
			mouseSupport	: true
			});
		joystick.addEventListener('touchStart', function(){
			console.log('down')
		})
		joystick.addEventListener('touchEnd', function(){
			console.log('up')
		})

		setInterval(function(){
			var outputEl	= document.getElementById('result');
			outputEl.innerHTML	= (joystick.right()	? ' right'	: '')
				+ (joystick.up()	? ' up'		: '')
				+ (joystick.left()	? ' left'	: '')
				+ (joystick.down()	? ' down' 	: '')	
		}, 1/30 * 1000);
	</script>
{% endblock %}